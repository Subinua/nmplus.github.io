# 비밀번호 찾기 고찰

## Remember me
![rememberMe](https://user-images.githubusercontent.com/39661858/112591822-4d43a380-8e48-11eb-85f7-d344fd0c65c4.png)  
remember me 란 자동로그인 또는 로그인 유지이다.  
이 방식은 쿠키를 이용해서 사용자가 로그인 했던 정보를 보관한다.  
- 문제점  
쿠키를 탈취당한다면 그 계정은 탈취당한 것과 같다.  

## 비밀번호 암호화
SHA Secure Hash Algorithm  
암호화 표준 공통
- SHA-1  
- SHA-2  

SHA-256은 SHA 알고리즘의 한 종류로서 256비트로 구성된 64자리 문자열을 반환한다.  
표준 해시 알고리즘인 SHA-2 계열 중 하나이며 블록체인에서 많이 사용하고 있으며 2<sup>256</sup> 만큼의 수를 만들 수 있다.  
SHA-256 해시 함수는 어떤 길이의 값을 입력하더라도 256비트의 고정된 결과 값을 출력한다.  
비밀번호 암호화를 할 때에는 Hash함수를 이용한다.  
해시는 단방향(One-Way) 알고리즘으로서 평문을 암호화했을 때 다시 평문으로 복호화할 수 없다. 
![hash](https://user-images.githubusercontent.com/39661858/112796122-7bbdba80-90a4-11eb-9434-4965629a28da.png)
```
평문 : abc
암호화 : ba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad
```
SHA-256의 경우 평문에 대한 암호화 값이 똑같이 나오기 때문에  
평문과 암호화 값들을 저장해 놓은 다음 나중에 돌리게 되면 암호화 되지 않은 비밀번호를 찾을 수 있다.  
평문과 평문에 해당하는 암호화 값들을 저장해놓은 표를 레인보우 테이블이라고 한다.  

## Rainbow Table 레인보우 테이블 

|**평문**|**암호화**|
|:---:|:---:|
|abc|ba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad|
|abcd|88d4266fd4e6338d13b845fcf289579d209c897823b9217da3e161936f031589|
|abcde|36bbe50ed96841d10443bcb670d6554f0a34b761be67ec9c4a8ad2c0c44ca42c|
|abcdee|96dd75d85abd5c6973a2567faa35d2dd2a9508194891381f974a7af020d25b80|
|aabcdee|99582b42a385c0037010de4f99802dcc5bd982192ac31be8f0803333bd40e55d|

레인보우 테이블은 해시 함수를 사용해서 만들어 낼 수 있는 값들을 대량으로 저장해 놓은 표이다.  
레인보우 테이블을 이용해 원문 값을 알아낼 수 있다.  

## Salt 솔트
![salt](https://user-images.githubusercontent.com/39661858/112796901-96dcfa00-90a5-11eb-881d-475c9c2e7cfe.png)
같은 평문를 암호화하게 되면 같은 암호화 값이 나오기 때문에 위험하다.  
이를 방지하기 위해 평문을 암호화하기 전에 평문에 임의의 문자열을 덧붙여 해시하게 되는데  
같은 평문이라고 하더라도 임의의 문자열이 붙어 해시된 결과가 다르게 나타난다.  
이 임의의 문자열을 솔트값라고 한다.  
솔트 값은 우리가 설정할 수 있으며 우리만 알 수 있다.  
같은 1234를 입력하더라도 매번 다른 암호화 값이 나온다.  
하지만 이것도 솔트 값을 알게 된다면 해킹이 가능하다.  

## Spring Security 스프링 시큐리티

|**평문**|**암호화**|
|:---:|:---:|
|abc|bbb59da3af939f7af5f360f2ceb80a496e3bae1cd87dde426db0ae40677e1c2c|
|abc|da29be9cde209b0fa9d761c1007bb7045674e0c772a77b17d7a1c1979844ba62|
|abc|ae0b070b55cc3034cd9c39a8851d6fd08b8bd8b7dc97751ad3cf7dc5c4c43326|
|abc|da879d421358443fd59c450b3087c9a22261a861551657d97df5df3f856aebdc|
|abc|c2269a167ef9fad7588d8f12e4632a4bcf5171b6955a6b1f94bb4fbef2019f03|

시큐리티의 해시는 솔트값이 항상 바뀐다.  
그러므로 같은 평문을 입력하더라도 암호화 값이 항상 다르다.  